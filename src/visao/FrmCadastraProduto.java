package visao;

import controle.ConectaBanco;
import controle.ControleProdutos;

import java.awt.Color;
import java.awt.Toolkit;
import java.awt.event.ActionEvent;
import java.awt.event.KeyEvent;
import java.math.BigDecimal;
import java.sql.SQLException;
import java.text.DecimalFormat;
import java.util.ArrayList;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JOptionPane;
import javax.swing.ListSelectionModel;

import util.Sorteio;
import modelo.ModeloProduto;
import modelo.ModeloTabela;
import modelo.NimbusClasse;
import novo.SelecionarCodigosBarrasDao;

import java.text.NumberFormat;
import java.util.HashMap;
import java.util.Locale;
import javax.swing.AbstractAction;
import javax.swing.JTextField;
import javax.swing.KeyStroke;
import util.TarefasSegundoPlano;

public class FrmCadastraProduto extends javax.swing.JFrame {

    ConectaBanco conecta = new ConectaBanco();
    ConectaBanco conectapesquisa = new ConectaBanco();
    ConectaBanco conectacategoria = new ConectaBanco();
    ModeloProduto mod = new ModeloProduto();
    ModeloProduto model = new ModeloProduto();
    ControleProdutos control = new ControleProdutos();
    DecimalFormat df = new DecimalFormat("0.00");
    NimbusClasse n = new NimbusClasse();
    NumberFormat calculo;
    int idProd;
    float pv, p, precoCompra, lucroEsperado, precoVenda, federal, estadual,municipal;
    int flag=0;

    public FrmCadastraProduto() {
        initComponents();
//        linha implementada codigo de barras
//        codigobarras();
        setIcon();
        preencherCombo();
        jLabelCarregando.setVisible(false);
        //this.setExtendedState(MAXIMIZED_BOTH);
        desabilitarCampos();
        jComboBoxCategorias.removeAllItems();
        preencherComboCategorias();
        limpaCampos();
        BloquearCampos();
        

        novoProduto();
        EditaProduto();
        salvaProduto();
        ExcluirProduto();
        CancelarProduto();
        Sair();
        calculo = NumberFormat.getInstance();
        calculo.setMinimumFractionDigits(2);
        jTextFieldLucroEsperado.setText("0,00");
        jTextFieldLucro.setText("0,00");
        jTextFieldPrecoCompra.setText("0,00");
        jTextFieldPrecoVenda.setText("0,00");
        preencherTabela("SELECT * FROM produto INNER JOIN fornecedor ON produto.id_fornecedor = fornecedor.id_fornecedor INNER JOIN categorias ON produto.id_categoria = categorias.id_categoria ORDER BY nome_produto ASC");
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jLabel8 = new javax.swing.JLabel();
        entityManager = java.beans.Beans.isDesignTime() ? null : javax.persistence.Persistence.createEntityManagerFactory("sistemavendas?zeroDateTimeBehavior=convertToNullPU").createEntityManager();
        produtoQuery = java.beans.Beans.isDesignTime() ? null : entityManager.createQuery("SELECT p FROM Produto p");
        produtoList = java.beans.Beans.isDesignTime() ? java.util.Collections.emptyList() : produtoQuery.getResultList();
        jPanel1 = new javax.swing.JPanel();
        jButtonNovo = new javax.swing.JButton();
        jButtonSalvar = new javax.swing.JButton();
        jButtonEditar = new javax.swing.JButton();
        jButtonExcluir = new javax.swing.JButton();
        jButtonSair = new javax.swing.JButton();
        jTextFieldPesquisar = new javax.swing.JTextField();
        jPanel2 = new javax.swing.JPanel();
        jLabel4 = new javax.swing.JLabel();
        jTextFieldPrecoCompra = new javax.swing.JTextField();
        jTextFieldPrecoVenda = new javax.swing.JTextField();
        jLabel6 = new javax.swing.JLabel();
        jTextFieldLucroEsperado = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        jComboBoxFornecedor = new javax.swing.JComboBox<>();
        jLabel5 = new javax.swing.JLabel();
        jButtonFornecedor = new javax.swing.JButton();
        jTextFieldQuantidade = new javax.swing.JTextField();
        jLabel9 = new javax.swing.JLabel();
        jTextFieldQuantidadeMinima = new javax.swing.JTextField();
        jLabel10 = new javax.swing.JLabel();
        jComboBoxUnidade = new javax.swing.JComboBox<>();
        jLabel12 = new javax.swing.JLabel();
        jLabel13 = new javax.swing.JLabel();
        jTextFieldLucro = new javax.swing.JTextField();
        jButtonNCM = new javax.swing.JButton();
        jTextFieldCest = new javax.swing.JTextField();
        jTextFieldAliqmunicipal = new javax.swing.JTextField();
        jLabel14 = new javax.swing.JLabel();
        jLabel15 = new javax.swing.JLabel();
        jTextFieldCFOP = new javax.swing.JTextField();
        jLabel16 = new javax.swing.JLabel();
        jButtonCFOP = new javax.swing.JButton();
        jTextFieldPIS = new javax.swing.JTextField();
        jTextFieldCOFINS = new javax.swing.JTextField();
        jLabel17 = new javax.swing.JLabel();
        jLabel18 = new javax.swing.JLabel();
        jButtonCOFINS = new javax.swing.JButton();
        jButtonPIS = new javax.swing.JButton();
        jComboBoxncm = new javax.swing.JComboBox<>();
        jTextFieldAliqFederal = new javax.swing.JTextField();
        jLabel19 = new javax.swing.JLabel();
        jLabel20 = new javax.swing.JLabel();
        jLabel21 = new javax.swing.JLabel();
        jTextFieldAliqEstadual = new javax.swing.JTextField();
        jLabel22 = new javax.swing.JLabel();
        jComboBoxCST = new javax.swing.JComboBox<>();
        jLabel23 = new javax.swing.JLabel();
        jComboBoxcsosn = new javax.swing.JComboBox<>();
        jPanel3 = new javax.swing.JPanel();
        jTextFieldCodigo = new javax.swing.JTextField();
        jLabel11 = new javax.swing.JLabel();
        jTextFieldBarras = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        jTextFieldProduto = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        jComboBoxCategorias = new javax.swing.JComboBox<>();
        jLabel1 = new javax.swing.JLabel();
        jButtoncategoria = new javax.swing.JButton();
        jButtonVisualizar = new javax.swing.JButton();
        jLabelCarregando = new javax.swing.JLabel();
        jButtonCancelar = new javax.swing.JButton();
        jScrollPane2 = new javax.swing.JScrollPane();
        tabela = new javax.swing.JTable();

        jLabel8.setText("Lucro Esperado %");

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("Cadastro de Produtos");
        setBackground(new java.awt.Color(0, 204, 204));

        jPanel1.setBackground(new java.awt.Color(0, 181, 181));
        jPanel1.setMaximumSize(new java.awt.Dimension(1200, 32767));
        jPanel1.setPreferredSize(new java.awt.Dimension(1200, 681));

        jButtonNovo.setBackground(new java.awt.Color(255, 255, 255));
        jButtonNovo.setFont(new java.awt.Font("Verdana", 1, 11)); // NOI18N
        jButtonNovo.setForeground(new java.awt.Color(0, 153, 153));
        jButtonNovo.setText("Novo (F6)");
        jButtonNovo.setToolTipText("Novo");
        jButtonNovo.setBorder(null);
        jButtonNovo.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButtonNovo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonNovoActionPerformed(evt);
            }
        });

        jButtonSalvar.setBackground(new java.awt.Color(255, 255, 255));
        jButtonSalvar.setFont(new java.awt.Font("Verdana", 1, 11)); // NOI18N
        jButtonSalvar.setForeground(new java.awt.Color(0, 153, 153));
        jButtonSalvar.setText("Salvar (F12)");
        jButtonSalvar.setToolTipText("Salvar");
        jButtonSalvar.setBorder(null);
        jButtonSalvar.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButtonSalvar.setEnabled(false);
        jButtonSalvar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSalvarActionPerformed(evt);
            }
        });

        jButtonEditar.setBackground(new java.awt.Color(255, 255, 255));
        jButtonEditar.setFont(new java.awt.Font("Verdana", 1, 11)); // NOI18N
        jButtonEditar.setForeground(new java.awt.Color(0, 153, 153));
        jButtonEditar.setText("Editar (F8)");
        jButtonEditar.setToolTipText("Editar");
        jButtonEditar.setBorder(null);
        jButtonEditar.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButtonEditar.setEnabled(false);
        jButtonEditar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonEditarActionPerformed(evt);
            }
        });

        jButtonExcluir.setBackground(new java.awt.Color(255, 255, 255));
        jButtonExcluir.setFont(new java.awt.Font("Verdana", 1, 11)); // NOI18N
        jButtonExcluir.setForeground(new java.awt.Color(0, 153, 153));
        jButtonExcluir.setText("Excluir (Del)");
        jButtonExcluir.setToolTipText("Excluir");
        jButtonExcluir.setBorderPainted(false);
        jButtonExcluir.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButtonExcluir.setEnabled(false);
        jButtonExcluir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonExcluirActionPerformed(evt);
            }
        });

        jButtonSair.setBackground(new java.awt.Color(255, 255, 255));
        jButtonSair.setFont(new java.awt.Font("Verdana", 1, 11)); // NOI18N
        jButtonSair.setForeground(new java.awt.Color(0, 153, 153));
        jButtonSair.setText("Sair (ESC)");
        jButtonSair.setToolTipText("Sair");
        jButtonSair.setBorderPainted(false);
        jButtonSair.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButtonSair.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSairActionPerformed(evt);
            }
        });

        jTextFieldPesquisar.setFont(new java.awt.Font("Tahoma", 1, 16)); // NOI18N
        jTextFieldPesquisar.setForeground(new java.awt.Color(51, 51, 51));
        jTextFieldPesquisar.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 255, 255), 10, true));
        jTextFieldPesquisar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldPesquisarActionPerformed(evt);
            }
        });
        jTextFieldPesquisar.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jTextFieldPesquisarKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextFieldPesquisarKeyReleased(evt);
            }
        });

        jPanel2.setBackground(new java.awt.Color(0, 153, 153));
        jPanel2.setBorder(javax.swing.BorderFactory.createEtchedBorder(new java.awt.Color(0, 153, 153), new java.awt.Color(0, 153, 153)));

        jLabel4.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel4.setForeground(new java.awt.Color(255, 255, 255));
        jLabel4.setText("Preço de compra: ");

        jTextFieldPrecoCompra.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jTextFieldPrecoCompra.setForeground(new java.awt.Color(102, 102, 102));
        jTextFieldPrecoCompra.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 255, 255), 10, true));
        jTextFieldPrecoCompra.setDisabledTextColor(new java.awt.Color(51, 51, 51));
        jTextFieldPrecoCompra.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                jTextFieldPrecoCompraFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldPrecoCompraFocusLost(evt);
            }
        });
        jTextFieldPrecoCompra.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jTextFieldPrecoCompraMouseClicked(evt);
            }
        });
        jTextFieldPrecoCompra.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldPrecoCompraActionPerformed(evt);
            }
        });

        jTextFieldPrecoVenda.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jTextFieldPrecoVenda.setForeground(new java.awt.Color(102, 102, 102));
        jTextFieldPrecoVenda.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 255, 255), 10, true));
        jTextFieldPrecoVenda.setDisabledTextColor(new java.awt.Color(51, 51, 51));
        jTextFieldPrecoVenda.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                jTextFieldPrecoVendaFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldPrecoVendaFocusLost(evt);
            }
        });

        jLabel6.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel6.setForeground(new java.awt.Color(255, 255, 255));
        jLabel6.setText("Preço de venda: ");

        jTextFieldLucroEsperado.setEditable(false);
        jTextFieldLucroEsperado.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jTextFieldLucroEsperado.setForeground(new java.awt.Color(102, 102, 102));
        jTextFieldLucroEsperado.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 255, 255), 10, true));
        jTextFieldLucroEsperado.setDisabledTextColor(new java.awt.Color(51, 51, 51));
        jTextFieldLucroEsperado.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldLucroEsperadoFocusLost(evt);
            }
        });
        jTextFieldLucroEsperado.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldLucroEsperadoActionPerformed(evt);
            }
        });

        jLabel7.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel7.setForeground(new java.awt.Color(255, 255, 255));
        jLabel7.setText("Margem bruta %");

        jComboBoxFornecedor.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jComboBoxFornecedor.setForeground(new java.awt.Color(102, 102, 102));
        jComboBoxFornecedor.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));
        jComboBoxFornecedor.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBoxFornecedorActionPerformed(evt);
            }
        });

        jLabel5.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel5.setForeground(new java.awt.Color(255, 255, 255));
        jLabel5.setText("Fornecedor:");

        jButtonFornecedor.setBackground(new java.awt.Color(255, 255, 255));
        jButtonFornecedor.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jButtonFornecedor.setForeground(new java.awt.Color(0, 153, 153));
        jButtonFornecedor.setText("+");
        jButtonFornecedor.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(255, 255, 255)));
        jButtonFornecedor.setBorderPainted(false);
        jButtonFornecedor.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButtonFornecedor.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonFornecedorActionPerformed(evt);
            }
        });

        jTextFieldQuantidade.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jTextFieldQuantidade.setForeground(new java.awt.Color(102, 102, 102));
        jTextFieldQuantidade.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 255, 255), 10, true));
        jTextFieldQuantidade.setDisabledTextColor(new java.awt.Color(51, 51, 51));

        jLabel9.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel9.setForeground(new java.awt.Color(255, 255, 255));
        jLabel9.setText("Estoque:");

        jTextFieldQuantidadeMinima.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jTextFieldQuantidadeMinima.setForeground(new java.awt.Color(102, 102, 102));
        jTextFieldQuantidadeMinima.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 255, 255), 10, true));
        jTextFieldQuantidadeMinima.setDisabledTextColor(new java.awt.Color(51, 51, 51));

        jLabel10.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel10.setForeground(new java.awt.Color(255, 255, 255));
        jLabel10.setText("Estoque minimo");

        jComboBoxUnidade.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jComboBoxUnidade.setForeground(new java.awt.Color(102, 102, 102));
        jComboBoxUnidade.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { " ", "KG", "LT", "SC", "UN", "MT", "PCT", "PARES", "M3", "M2" }));
        jComboBoxUnidade.setEnabled(false);
        jComboBoxUnidade.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBoxUnidadeActionPerformed(evt);
            }
        });

        jLabel12.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel12.setForeground(new java.awt.Color(255, 255, 255));
        jLabel12.setText("Unidade :");

        jLabel13.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel13.setForeground(new java.awt.Color(255, 255, 255));
        jLabel13.setText("Lucro de venda: ");

        jTextFieldLucro.setEditable(false);
        jTextFieldLucro.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jTextFieldLucro.setForeground(new java.awt.Color(102, 102, 102));
        jTextFieldLucro.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 255, 255), 10, true));
        jTextFieldLucro.setDisabledTextColor(new java.awt.Color(51, 51, 51));
        jTextFieldLucro.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTextFieldLucroFocusLost(evt);
            }
        });

        jButtonNCM.setBackground(new java.awt.Color(255, 255, 255));
        jButtonNCM.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jButtonNCM.setForeground(new java.awt.Color(0, 153, 153));
        jButtonNCM.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/LUPA.png"))); // NOI18N
        jButtonNCM.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(255, 255, 255)));
        jButtonNCM.setBorderPainted(false);
        jButtonNCM.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButtonNCM.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonNCMActionPerformed(evt);
            }
        });

        jTextFieldCest.setEditable(false);
        jTextFieldCest.setBackground(new java.awt.Color(255, 255, 255));
        jTextFieldCest.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jTextFieldCest.setForeground(new java.awt.Color(102, 102, 102));
        jTextFieldCest.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 255, 255), 10, true));
        jTextFieldCest.setDisabledTextColor(new java.awt.Color(51, 51, 51));
        jTextFieldCest.setEnabled(false);
        jTextFieldCest.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldCestActionPerformed(evt);
            }
        });

        jTextFieldAliqmunicipal.setEditable(false);
        jTextFieldAliqmunicipal.setBackground(new java.awt.Color(255, 255, 255));
        jTextFieldAliqmunicipal.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jTextFieldAliqmunicipal.setForeground(new java.awt.Color(102, 102, 102));
        jTextFieldAliqmunicipal.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 255, 255), 10, true));
        jTextFieldAliqmunicipal.setDisabledTextColor(new java.awt.Color(51, 51, 51));
        jTextFieldAliqmunicipal.setEnabled(false);

        jLabel14.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel14.setForeground(new java.awt.Color(255, 255, 255));
        jLabel14.setText("CEST:");

        jLabel15.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel15.setForeground(new java.awt.Color(255, 255, 255));
        jLabel15.setText("Classific. fiscal (NCM):");

        jTextFieldCFOP.setEditable(false);
        jTextFieldCFOP.setBackground(new java.awt.Color(255, 255, 255));
        jTextFieldCFOP.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jTextFieldCFOP.setForeground(new java.awt.Color(102, 102, 102));
        jTextFieldCFOP.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 255, 255), 10, true));
        jTextFieldCFOP.setDisabledTextColor(new java.awt.Color(51, 51, 51));
        jTextFieldCFOP.setEnabled(false);

        jLabel16.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel16.setForeground(new java.awt.Color(255, 255, 255));
        jLabel16.setText("CFOP:");

        jButtonCFOP.setBackground(new java.awt.Color(255, 255, 255));
        jButtonCFOP.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jButtonCFOP.setForeground(new java.awt.Color(0, 153, 153));
        jButtonCFOP.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/LUPA.png"))); // NOI18N
        jButtonCFOP.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(255, 255, 255)));
        jButtonCFOP.setBorderPainted(false);
        jButtonCFOP.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButtonCFOP.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonCFOPActionPerformed(evt);
            }
        });

        jTextFieldPIS.setEditable(false);
        jTextFieldPIS.setBackground(new java.awt.Color(255, 255, 255));
        jTextFieldPIS.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jTextFieldPIS.setForeground(new java.awt.Color(102, 102, 102));
        jTextFieldPIS.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 255, 255), 10, true));
        jTextFieldPIS.setDisabledTextColor(new java.awt.Color(51, 51, 51));
        jTextFieldPIS.setEnabled(false);

        jTextFieldCOFINS.setEditable(false);
        jTextFieldCOFINS.setBackground(new java.awt.Color(255, 255, 255));
        jTextFieldCOFINS.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jTextFieldCOFINS.setForeground(new java.awt.Color(102, 102, 102));
        jTextFieldCOFINS.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 255, 255), 10, true));
        jTextFieldCOFINS.setDisabledTextColor(new java.awt.Color(51, 51, 51));
        jTextFieldCOFINS.setEnabled(false);

        jLabel17.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel17.setForeground(new java.awt.Color(255, 255, 255));
        jLabel17.setText("COFINS:");

        jLabel18.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel18.setForeground(new java.awt.Color(255, 255, 255));
        jLabel18.setText("PIS:");

        jButtonCOFINS.setBackground(new java.awt.Color(255, 255, 255));
        jButtonCOFINS.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jButtonCOFINS.setForeground(new java.awt.Color(0, 153, 153));
        jButtonCOFINS.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/LUPA.png"))); // NOI18N
        jButtonCOFINS.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(255, 255, 255)));
        jButtonCOFINS.setBorderPainted(false);
        jButtonCOFINS.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButtonCOFINS.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonCOFINSActionPerformed(evt);
            }
        });

        jButtonPIS.setBackground(new java.awt.Color(255, 255, 255));
        jButtonPIS.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jButtonPIS.setForeground(new java.awt.Color(0, 153, 153));
        jButtonPIS.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagens/LUPA.png"))); // NOI18N
        jButtonPIS.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(255, 255, 255)));
        jButtonPIS.setBorderPainted(false);
        jButtonPIS.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButtonPIS.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonPISActionPerformed(evt);
            }
        });

        jComboBoxncm.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jComboBoxncm.setForeground(new java.awt.Color(102, 102, 102));
        jComboBoxncm.setEnabled(false);
        jComboBoxncm.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jComboBoxncmFocusLost(evt);
            }
        });
        jComboBoxncm.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBoxncmActionPerformed(evt);
            }
        });
        jComboBoxncm.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jComboBoxncmKeyReleased(evt);
            }
        });

        jTextFieldAliqFederal.setEditable(false);
        jTextFieldAliqFederal.setBackground(new java.awt.Color(255, 255, 255));
        jTextFieldAliqFederal.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jTextFieldAliqFederal.setForeground(new java.awt.Color(102, 102, 102));
        jTextFieldAliqFederal.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 255, 255), 10, true));
        jTextFieldAliqFederal.setDisabledTextColor(new java.awt.Color(51, 51, 51));
        jTextFieldAliqFederal.setEnabled(false);

        jLabel19.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel19.setForeground(new java.awt.Color(255, 255, 255));
        jLabel19.setText("Aliq. Federal (%)");

        jLabel20.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel20.setForeground(new java.awt.Color(255, 255, 255));
        jLabel20.setText("Aliq. Estadual(%)");

        jLabel21.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel21.setForeground(new java.awt.Color(255, 255, 255));
        jLabel21.setText("CSOSN:");

        jTextFieldAliqEstadual.setEditable(false);
        jTextFieldAliqEstadual.setBackground(new java.awt.Color(255, 255, 255));
        jTextFieldAliqEstadual.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jTextFieldAliqEstadual.setForeground(new java.awt.Color(102, 102, 102));
        jTextFieldAliqEstadual.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 255, 255), 10, true));
        jTextFieldAliqEstadual.setDisabledTextColor(new java.awt.Color(51, 51, 51));
        jTextFieldAliqEstadual.setEnabled(false);

        jLabel22.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel22.setForeground(new java.awt.Color(255, 255, 255));
        jLabel22.setText("Aliq. Municipal (%)");

        jComboBoxCST.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jComboBoxCST.setForeground(new java.awt.Color(102, 102, 102));
        jComboBoxCST.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { " ", "10", "20", "30", "40", "41", "50", "51", "60", "70", "90", "0", "10", "20", "30", "40", "41", "50", "51", "60", "70", "90", "0", "10", "20", "30", "40", "41", "50", "51", "60", "70", "90" }));
        jComboBoxCST.setEnabled(false);
        jComboBoxCST.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jComboBoxCSTFocusLost(evt);
            }
        });
        jComboBoxCST.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jComboBoxCSTMouseClicked(evt);
            }
        });
        jComboBoxCST.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBoxCSTActionPerformed(evt);
            }
        });
        jComboBoxCST.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jComboBoxCSTKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jComboBoxCSTKeyReleased(evt);
            }
        });

        jLabel23.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel23.setForeground(new java.awt.Color(255, 255, 255));
        jLabel23.setText("CST:");

        jComboBoxcsosn.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jComboBoxcsosn.setForeground(new java.awt.Color(102, 102, 102));
        jComboBoxcsosn.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { " ", "102", "103", "201", "202", "203", "300", "400", "500", "900", "101", "102", "103", "201", "202", "203", "300", "400", "500", "900", "101", "102", "103", "201", "202", "203", "300", "400", "500", "900" }));
        jComboBoxcsosn.setEnabled(false);
        jComboBoxcsosn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBoxcsosnActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jComboBoxFornecedor, javax.swing.GroupLayout.PREFERRED_SIZE, 489, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButtonFornecedor, javax.swing.GroupLayout.PREFERRED_SIZE, 47, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel5)
                                    .addGroup(jPanel2Layout.createSequentialGroup()
                                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(jLabel22)
                                            .addComponent(jTextFieldAliqmunicipal, javax.swing.GroupLayout.PREFERRED_SIZE, 147, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGap(18, 18, 18)
                                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(jLabel23)
                                            .addComponent(jComboBoxCST, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGap(18, 18, 18)
                                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(jComboBoxcsosn, javax.swing.GroupLayout.PREFERRED_SIZE, 89, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(jLabel21))
                                        .addGap(18, 18, 18)
                                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                            .addComponent(jLabel4)
                                            .addComponent(jTextFieldPrecoCompra, javax.swing.GroupLayout.PREFERRED_SIZE, 131, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(jTextFieldPrecoVenda, javax.swing.GroupLayout.PREFERRED_SIZE, 140, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(jLabel6))))
                                .addGap(18, 18, 18)
                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(jTextFieldLucro, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel13))
                                .addGap(18, 18, 18)
                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel7, javax.swing.GroupLayout.PREFERRED_SIZE, 131, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jTextFieldLucroEsperado, javax.swing.GroupLayout.PREFERRED_SIZE, 131, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(23, 23, 23)
                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jTextFieldQuantidade, javax.swing.GroupLayout.PREFERRED_SIZE, 126, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel9)))
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel15)
                                    .addGroup(jPanel2Layout.createSequentialGroup()
                                        .addComponent(jComboBoxncm, javax.swing.GroupLayout.PREFERRED_SIZE, 204, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(jButtonNCM, javax.swing.GroupLayout.PREFERRED_SIZE, 39, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                .addGap(18, 18, 18)
                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel12)
                                    .addComponent(jComboBoxUnidade, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(18, 18, 18)
                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel14)
                                    .addComponent(jTextFieldCest, javax.swing.GroupLayout.PREFERRED_SIZE, 93, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(29, 29, 29)
                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(jPanel2Layout.createSequentialGroup()
                                        .addComponent(jTextFieldCFOP, javax.swing.GroupLayout.PREFERRED_SIZE, 66, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(jButtonCFOP, javax.swing.GroupLayout.PREFERRED_SIZE, 39, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addComponent(jLabel16, javax.swing.GroupLayout.PREFERRED_SIZE, 52, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(jPanel2Layout.createSequentialGroup()
                                        .addComponent(jTextFieldPIS, javax.swing.GroupLayout.PREFERRED_SIZE, 78, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(jButtonPIS, javax.swing.GroupLayout.PREFERRED_SIZE, 39, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addComponent(jLabel18))
                                .addGap(18, 18, 18)
                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel17)
                                    .addGroup(jPanel2Layout.createSequentialGroup()
                                        .addComponent(jTextFieldCOFINS, javax.swing.GroupLayout.PREFERRED_SIZE, 73, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(jButtonCOFINS, javax.swing.GroupLayout.PREFERRED_SIZE, 39, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                .addGap(59, 59, 59)
                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(jTextFieldAliqFederal)
                                    .addComponent(jLabel19, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jTextFieldAliqEstadual)
                            .addComponent(jLabel20)
                            .addComponent(jTextFieldQuantidadeMinima)
                            .addComponent(jLabel10))
                        .addGap(41, 41, 41))))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGap(13, 13, 13)
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addComponent(jLabel15)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jButtonNCM, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jComboBoxncm, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addComponent(jLabel12)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jComboBoxUnidade, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE))))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGap(12, 12, 12)
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addComponent(jLabel14)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jTextFieldCest, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(jTextFieldPIS, javax.swing.GroupLayout.PREFERRED_SIZE, 38, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jButtonPIS, javax.swing.GroupLayout.PREFERRED_SIZE, 39, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel2Layout.createSequentialGroup()
                                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addGroup(jPanel2Layout.createSequentialGroup()
                                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                            .addComponent(jLabel16)
                                            .addComponent(jLabel18))
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(jTextFieldCFOP, javax.swing.GroupLayout.PREFERRED_SIZE, 38, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(jButtonCFOP, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                    .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                        .addComponent(jTextFieldAliqFederal, javax.swing.GroupLayout.PREFERRED_SIZE, 38, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(jTextFieldAliqEstadual, javax.swing.GroupLayout.PREFERRED_SIZE, 38, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addGroup(jPanel2Layout.createSequentialGroup()
                                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(jLabel17, javax.swing.GroupLayout.Alignment.TRAILING)
                                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                                .addComponent(jLabel19)
                                                .addComponent(jLabel20)))
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                            .addComponent(jTextFieldCOFINS, javax.swing.GroupLayout.PREFERRED_SIZE, 38, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(jButtonCOFINS, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE))))
                                .addGap(1, 1, 1)))))
                .addGap(18, 18, 18)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabel22)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jTextFieldAliqmunicipal, javax.swing.GroupLayout.PREFERRED_SIZE, 38, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(21, 21, 21))
                    .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                        .addGroup(jPanel2Layout.createSequentialGroup()
                            .addComponent(jLabel21)
                            .addGap(45, 45, 45))
                        .addComponent(jComboBoxcsosn, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGroup(jPanel2Layout.createSequentialGroup()
                            .addComponent(jLabel23)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(jComboBoxCST, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(jPanel2Layout.createSequentialGroup()
                            .addComponent(jLabel4)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(jTextFieldPrecoCompra, javax.swing.GroupLayout.PREFERRED_SIZE, 38, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(jPanel2Layout.createSequentialGroup()
                            .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(jLabel6)
                                .addComponent(jLabel13))
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(jTextFieldPrecoVenda, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jTextFieldLucro, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGroup(jPanel2Layout.createSequentialGroup()
                            .addComponent(jLabel7)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(jTextFieldLucroEsperado, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(jPanel2Layout.createSequentialGroup()
                            .addComponent(jLabel9)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(jTextFieldQuantidade, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(jPanel2Layout.createSequentialGroup()
                            .addComponent(jLabel10)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(jTextFieldQuantidadeMinima, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addComponent(jLabel5)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jButtonFornecedor, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jComboBoxFornecedor, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel3.setBackground(new java.awt.Color(0, 153, 153));
        jPanel3.setBorder(javax.swing.BorderFactory.createEtchedBorder(new java.awt.Color(0, 153, 153), new java.awt.Color(0, 153, 153)));

        jTextFieldCodigo.setEditable(false);
        jTextFieldCodigo.setBackground(new java.awt.Color(255, 255, 255));
        jTextFieldCodigo.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jTextFieldCodigo.setForeground(new java.awt.Color(102, 102, 102));
        jTextFieldCodigo.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 255, 255), 10, true));
        jTextFieldCodigo.setDisabledTextColor(new java.awt.Color(51, 51, 51));
        jTextFieldCodigo.setEnabled(false);

        jLabel11.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel11.setForeground(new java.awt.Color(255, 255, 255));
        jLabel11.setText("Código:");

        jTextFieldBarras.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jTextFieldBarras.setForeground(new java.awt.Color(102, 102, 102));
        jTextFieldBarras.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 255, 255), 10, true));

        jLabel3.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel3.setForeground(new java.awt.Color(255, 255, 255));
        jLabel3.setText("Código de barras:");

        jTextFieldProduto.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jTextFieldProduto.setForeground(new java.awt.Color(102, 102, 102));
        jTextFieldProduto.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 255, 255), 10, true));
        jTextFieldProduto.setDisabledTextColor(new java.awt.Color(51, 51, 51));

        jLabel2.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel2.setForeground(new java.awt.Color(255, 255, 255));
        jLabel2.setText("Nome do produto:");

        jComboBoxCategorias.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jComboBoxCategorias.setForeground(new java.awt.Color(102, 102, 102));
        jComboBoxCategorias.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));

        jLabel1.setFont(new java.awt.Font("Verdana", 1, 13)); // NOI18N
        jLabel1.setForeground(new java.awt.Color(255, 255, 255));
        jLabel1.setText("Categoria:");

        jButtoncategoria.setBackground(new java.awt.Color(255, 255, 255));
        jButtoncategoria.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jButtoncategoria.setForeground(new java.awt.Color(0, 153, 153));
        jButtoncategoria.setText("+");
        jButtoncategoria.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(255, 255, 255)));
        jButtoncategoria.setBorderPainted(false);
        jButtoncategoria.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButtoncategoria.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtoncategoriaActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel11)
                    .addComponent(jTextFieldCodigo, javax.swing.GroupLayout.PREFERRED_SIZE, 71, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel3)
                    .addComponent(jTextFieldBarras, javax.swing.GroupLayout.PREFERRED_SIZE, 289, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel2)
                    .addComponent(jTextFieldProduto, javax.swing.GroupLayout.PREFERRED_SIZE, 471, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addComponent(jComboBoxCategorias, javax.swing.GroupLayout.PREFERRED_SIZE, 295, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jButtoncategoria, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jLabel1))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel11)
                    .addComponent(jLabel3)
                    .addComponent(jLabel2)
                    .addComponent(jLabel1))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTextFieldCodigo, javax.swing.GroupLayout.PREFERRED_SIZE, 38, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTextFieldBarras, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTextFieldProduto, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jComboBoxCategorias, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtoncategoria, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(26, Short.MAX_VALUE))
        );

        jButtonVisualizar.setBackground(new java.awt.Color(255, 255, 255));
        jButtonVisualizar.setFont(new java.awt.Font("Verdana", 1, 11)); // NOI18N
        jButtonVisualizar.setForeground(new java.awt.Color(0, 153, 153));
        jButtonVisualizar.setText("Visualizar Produtos");
        jButtonVisualizar.setBorderPainted(false);
        jButtonVisualizar.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButtonVisualizar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonVisualizarActionPerformed(evt);
            }
        });

        jLabelCarregando.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabelCarregando.setForeground(new java.awt.Color(255, 255, 255));
        jLabelCarregando.setText("CARREGANDO RELATÓRIO...");

        jButtonCancelar.setBackground(new java.awt.Color(255, 255, 255));
        jButtonCancelar.setFont(new java.awt.Font("Verdana", 1, 11)); // NOI18N
        jButtonCancelar.setForeground(new java.awt.Color(0, 153, 153));
        jButtonCancelar.setText("Cancelar (F7)");
        jButtonCancelar.setToolTipText("Excluir");
        jButtonCancelar.setBorderPainted(false);
        jButtonCancelar.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButtonCancelar.setEnabled(false);
        jButtonCancelar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonCancelarActionPerformed(evt);
            }
        });

        tabela.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
        tabela.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tabelaMouseClicked(evt);
            }
        });
        tabela.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                tabelaKeyReleased(evt);
            }
        });
        jScrollPane2.setViewportView(tabela);

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(jButtonNovo, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(jButtonSalvar, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(jButtonEditar, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(jButtonExcluir, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jButtonCancelar, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(jTextFieldPesquisar, javax.swing.GroupLayout.PREFERRED_SIZE, 388, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(jButtonSair, javax.swing.GroupLayout.PREFERRED_SIZE, 126, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jPanel2, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 1258, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                                .addComponent(jLabelCarregando)
                                .addGap(109, 109, 109)
                                .addComponent(jButtonVisualizar, javax.swing.GroupLayout.PREFERRED_SIZE, 165, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(jScrollPane2, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 1258, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap())
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTextFieldPesquisar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonExcluir, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonEditar, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonSalvar, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonNovo, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonCancelar, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonSair, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 242, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(261, 261, 261)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jButtonVisualizar, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabelCarregando, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, 1278, javax.swing.GroupLayout.PREFERRED_SIZE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, 700, Short.MAX_VALUE))
        );

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void codigobarras() {
        jTextFieldBarras.setText(new Sorteio().sortearNumero(14, new SelecionarCodigosBarrasDao().selectCredits()));
    }
    private void jButtonSairActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonSairActionPerformed
        dispose();
    }//GEN-LAST:event_jButtonSairActionPerformed

    private void jButtonSalvarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonSalvarActionPerformed

         if (jTextFieldBarras.getText().trim().isEmpty()){
            JOptionPane.showMessageDialog(null, "O campo CODIGO DE BARRAS esta sem preenchimento!");
            jTextFieldBarras.requestFocus();

        }else if(jTextFieldProduto.getText().trim().isEmpty()){
            JOptionPane.showMessageDialog(null, "O campo PRODUTO esta sem preenchimento!");
            jTextFieldProduto.requestFocus();

        }else if(jTextFieldPrecoCompra.getText().trim().isEmpty()){
            JOptionPane.showMessageDialog(null, "O campo PREÇO DE COMPRA esta sem preenchimento!");
            jTextFieldPrecoCompra.requestFocus();

        }else if(jTextFieldPrecoVenda.getText().trim().isEmpty()){
            JOptionPane.showMessageDialog(null, "Informar o PREÇO DE VENDA para o cliente que realiza o cadastro!");
            jTextFieldPrecoVenda.requestFocus();

        }else if(jTextFieldQuantidade.getText().trim().isEmpty()){
            JOptionPane.showMessageDialog(null, "O campo ESTOQUE esta sem preenchimento!");
            jTextFieldQuantidade.requestFocus();

        }else if(jTextFieldQuantidadeMinima.getText().trim().isEmpty()){
            JOptionPane.showMessageDialog(null, "O campo ESTOQUE MINIMO esta sem preenchimento!");
            jTextFieldQuantidadeMinima.requestFocus();

        }else 
            
            if(flag==0) {
            
            
               Cadastrar();
        
             limpaCampos();
             BloquearCampos();
            
            jTextFieldPesquisar.setEnabled(true);
            jButtonCancelar.setEnabled(false);
            jButtonExcluir.setEnabled(false);
            jButtonSalvar.setEnabled(false);
            jButtonNovo.setEnabled(true);
           
        }else{
        

                mod.setIdProduto(Integer.parseInt(jTextFieldCodigo.getText()));
                mod.setCodigobarras(jTextFieldBarras.getText());
                mod.setNomeProduto(jTextFieldProduto.getText());
                mod.setCategoria((String)jComboBoxCategorias.getSelectedItem());
                mod.setUnidade((String)jComboBoxUnidade.getSelectedItem());
                mod.setClassiFiscal((String)jComboBoxncm.getSelectedItem());
                mod.setCest(Integer.parseInt(jTextFieldCest.getText()));
                mod.setCfop(Integer.parseInt(jTextFieldCFOP.getText()));
                mod.setPis(Integer.parseInt(jTextFieldPIS.getText()));
                mod.setCofins(Integer.parseInt(jTextFieldCOFINS.getText()));
                mod.setAliqFederal(Float.parseFloat(jTextFieldAliqFederal.getText().replace(",", ".")));
                mod.setAliqEstadual(Float.parseFloat(jTextFieldAliqEstadual.getText().replace(",", ".")));
                mod.setAliqMunicipal(Float.parseFloat(jTextFieldAliqmunicipal.getText().replace(",", ".")));
                mod.setCst(Integer.parseInt((String)jComboBoxCST.getSelectedItem()));
                mod.setCsosn(Integer.parseInt((String)jComboBoxcsosn.getSelectedItem()));
                mod.setPrecoCompra(Float.parseFloat(jTextFieldPrecoCompra.getText().replace(",", ".")));
                mod.setLucroVenda(Float.parseFloat(jTextFieldLucro.getText().replace(",", ".")));
                mod.setLucroesperado(Float.parseFloat(jTextFieldLucroEsperado.getText().replace(",", ".")));
                mod.setPrecoVenda(Float.parseFloat(jTextFieldPrecoVenda.getText().replace(",", ".")));
                mod.setQtdProduto(Integer.parseInt(jTextFieldQuantidade.getText()));
                mod.setQuantidadeM(Integer.parseInt(jTextFieldQuantidadeMinima.getText()));
                mod.setFornecedorProduto((String) jComboBoxFornecedor.getSelectedItem());
                

        control.AlterarProduto(mod);
        preencherTabela("SELECT * FROM produto INNER JOIN fornecedor ON produto.id_fornecedor = fornecedor.id_fornecedor INNER JOIN categorias ON produto.id_categoria = categorias.id_categoria ORDER BY nome_produto ASC");
                
        BloquearCampos();
            
            jTextFieldPesquisar.setEnabled(true);
            jButtonCancelar.setEnabled(false);
            jButtonExcluir.setEnabled(false);
            jButtonSalvar.setEnabled(false);
            jButtonNovo.setEnabled(true);
            
            limpaCampos();

        

       }
    }//GEN-LAST:event_jButtonSalvarActionPerformed
    public void Cadastrar() {

        conecta.conexao();
        String name = jTextFieldProduto.getText();
        conecta.executaSQL("select nome_produto from produto where nome_produto='" + name + "'");
        try {

            if (conecta.rs.next()) {

                JOptionPane.showMessageDialog(null, "O Produto " + name + " já foi Cadastrado");

            } else {

                mod.setCodigobarras(jTextFieldBarras.getText());
                mod.setNomeProduto(jTextFieldProduto.getText());
                mod.setCategoria((String) jComboBoxCategorias.getSelectedItem()); 
                mod.setUnidade((String)jComboBoxUnidade.getSelectedItem());
                mod.setClassiFiscal((String) jComboBoxncm.getSelectedItem());
                mod.setCest(Integer.parseInt(jTextFieldCest.getText()));
                mod.setCfop(Integer.parseInt(jTextFieldCFOP.getText()));
                mod.setPis(Integer.parseInt(jTextFieldPIS.getText()));
                mod.setCofins(Integer.parseInt(jTextFieldCOFINS.getText()));
                mod.setAliqFederal(Float.parseFloat(jTextFieldAliqFederal.getText().replace(",", ".")));
                mod.setAliqEstadual(Float.parseFloat(jTextFieldAliqEstadual.getText().replace(",", ".")));
                mod.setAliqMunicipal(Float.parseFloat(jTextFieldAliqmunicipal.getText().replace(",", ".")));
                mod.setCst(Integer.parseInt((String)jComboBoxCST.getSelectedItem()));
                mod.setCsosn(Integer.parseInt((String)jComboBoxcsosn.getSelectedItem()));
                mod.setPrecoCompra(Float.parseFloat(jTextFieldPrecoCompra.getText().replace(",", ".")));
                mod.setLucroVenda(Float.parseFloat(jTextFieldLucro.getText().replace(",", ".")));
                mod.setLucroesperado(Float.parseFloat(jTextFieldLucroEsperado.getText().replace(",", ".")));
                mod.setPrecoVenda(Float.parseFloat(jTextFieldPrecoVenda.getText().replace(",", ".")));
                mod.setQtdProduto(Integer.parseInt(jTextFieldQuantidade.getText()));
                mod.setQuantidadeM(Integer.parseInt(jTextFieldQuantidadeMinima.getText()));
                mod.setFornecedorProduto((String) jComboBoxFornecedor.getSelectedItem());
                

                control.InserirProduto(mod);

                limpaCampos();
                preencherTabela("SELECT * FROM produto INNER JOIN fornecedor ON produto.id_fornecedor = fornecedor.id_fornecedor INNER JOIN categorias ON produto.id_categoria = categorias.id_categoria ORDER BY nome_produto ASC");
            }
        } catch (SQLException ex) {
            Logger.getLogger(FrmCadastraProduto.class.getName()).log(Level.SEVERE, null, ex);
        } finally {

            conecta.desconecta();

        }

    }
    private void jButtonEditarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonEditarActionPerformed
        flag = 2;

        HabilitarCampos();
        jTextFieldPesquisar.setEnabled(false);
        jButtonSalvar.setEnabled(true);
        jButtonEditar.setEnabled(false);
        jButtonCancelar.setEnabled(true);
        jButtonExcluir.setEnabled(false);
    }//GEN-LAST:event_jButtonEditarActionPerformed

    private void jButtonExcluirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonExcluirActionPerformed
        String message = "Deseja Excluir Produto ?";
        String title = "Excluir Produto";

        int result = JOptionPane.showConfirmDialog(this, message, title, JOptionPane.YES_OPTION);

        if (result == JOptionPane.YES_OPTION) {

            mod.setIdProduto(Integer.parseInt(jTextFieldCodigo.getText()));
            
            control.ExcluirProduto(mod);
            
            preencherTabela("SELECT * FROM produto INNER JOIN fornecedor ON produto.id_fornecedor = fornecedor.id_fornecedor INNER JOIN categorias ON produto.id_categoria = categorias.id_categoria ORDER BY nome_produto ASC");
            
            BloquearCampos();
            limpaCampos();
            
            jButtonSalvar.setEnabled(false);
            jButtonNovo.setEnabled(true);
            jButtonCancelar.setEnabled(false);
            jButtonEditar.setEnabled(false);
            jButtonExcluir.setEnabled(false);
            
        } else {

            JOptionPane.showMessageDialog(null, "Produto não Excluido");
        }


    }//GEN-LAST:event_jButtonExcluirActionPerformed

    private void jButtonFornecedorActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonFornecedorActionPerformed
        FrmFornecedores frm = new FrmFornecedores();
        frm.setVisible(true);
        preencherCombo();
    }//GEN-LAST:event_jButtonFornecedorActionPerformed

    private void jButtonNovoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonNovoActionPerformed

        HabilitarCampos();
        limpaCampos();
        
        jTextFieldPesquisar.setEnabled(false);
        jButtonSalvar.setEnabled(true);
        jButtonNovo.setEnabled(false);
        jButtonCancelar.setEnabled(true);
        jButtonSalvar.setEnabled(true);
        
        //IniciaId();
        //codigobarras();

    }//GEN-LAST:event_jButtonNovoActionPerformed

    private void jTextFieldPesquisarKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldPesquisarKeyPressed
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {

            if (!jTextFieldPesquisar.getText().equals("")) {

                
                mod.setPesquisa(jTextFieldPesquisar.getText());
                ModeloProduto model = control.buscaProduto(mod);

                jTextFieldBarras.setText(String.valueOf(model.getCodigobarras()));
                jTextFieldCodigo.setText(String.valueOf(model.getIdProduto()));
                jTextFieldProduto.setText(model.getNomeProduto());
                jTextFieldPrecoCompra.setText(String.valueOf(df.format(model.getPrecoCompra())).replace(".", ","));
                jTextFieldLucroEsperado.setText(String.valueOf(df.format(model.getLucroesperado())).replace(".", ","));
                jTextFieldPrecoVenda.setText(String.valueOf(df.format(model.getPrecoVenda())).replace(".", ","));
                jTextFieldQuantidade.setText(String.valueOf(model.getQtdProduto()));
                jTextFieldQuantidadeMinima.setText(String.valueOf(model.getQuantidadeM()));
                jComboBoxFornecedor.setSelectedItem(model.getFornecedorProduto());
                jComboBoxCategorias.setSelectedItem(model.getCategoria());

                preencherTabela("SELECT * FROM produto INNER JOIN fornecedor ON produto.id_fornecedor = fornecedor.id_fornecedor WHERE nome_produto LIKE '%" + jTextFieldPesquisar.getText() + "%'");

            } else {

                JOptionPane.showMessageDialog(rootPane, "Digite o nome do Produto ou Parte do Nome");

            }

        }
    }//GEN-LAST:event_jTextFieldPesquisarKeyPressed

    private void jTextFieldLucroEsperadoFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldLucroEsperadoFocusLost
//        String recebePCompra = jTextFieldPrecoCompra.getText().replace(",",".");
//        
//        float precoCompra = Float.parseFloat(recebePCompra);
//        
//        float lucroEsperado = Float.parseFloat(jTextFieldLucroEsperado.getText().replace(",", "."));
//        
//        pv = (precoCompra * lucroEsperado) / 100 + precoCompra;
//         
//        
//         jTextFieldPrecoCompra.setText(String.valueOf(df.format(precoCompra)));       
        //jTextFieldPrecoVenda.setText(String.valueOf(df.format(pv)));

    }//GEN-LAST:event_jTextFieldLucroEsperadoFocusLost

    private void jButtoncategoriaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtoncategoriaActionPerformed
        FrmCategorias cat = new FrmCategorias();
        cat.setVisible(true);
        jComboBoxCategorias.removeAllItems();
        preencherComboCategorias();
    }//GEN-LAST:event_jButtoncategoriaActionPerformed

    private void jTextFieldPrecoCompraFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldPrecoCompraFocusLost
        String pegaValor = jTextFieldPrecoCompra.getText();
        String novoValor = pegaValor.replace(" ", "").replace(".", "").replace(",", ".");
        precoCompra = Float.parseFloat(novoValor);
        DecimalFormat df = new DecimalFormat("0.00");
        String valorFormatado = df.format(precoCompra);
        jTextFieldPrecoCompra.setText(valorFormatado);


    }//GEN-LAST:event_jTextFieldPrecoCompraFocusLost

    private void jTextFieldPrecoCompraMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTextFieldPrecoCompraMouseClicked

        jTextFieldPrecoCompra.selectAll();
    }//GEN-LAST:event_jTextFieldPrecoCompraMouseClicked

    private void jTextFieldPrecoVendaFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldPrecoVendaFocusLost
//        String recebePCompra = jTextFieldPrecoCompra.getText();
//        String novoRecebep = recebePCompra.replace(" ", "").replace("R$", "").replace(",", ".");

        float precoCompra = Float.parseFloat(jTextFieldPrecoCompra.getText().replace(",", "."));

        float precoVenda = Float.parseFloat(jTextFieldPrecoVenda.getText().replace(",", "."));
        float lucro = precoVenda - precoCompra;
        float p = (lucro / precoVenda) * 100;

        String pcf = df.format(p);
        jTextFieldPrecoCompra.setText(String.valueOf(df.format(precoCompra)));
        jTextFieldPrecoVenda.setText(String.valueOf(df.format(precoVenda)));
        jTextFieldLucroEsperado.setText(String.valueOf(pcf));
        jTextFieldLucro.setText(String.valueOf(df.format(lucro)));


    }//GEN-LAST:event_jTextFieldPrecoVendaFocusLost

    private void jTextFieldLucroEsperadoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldLucroEsperadoActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldLucroEsperadoActionPerformed

    private void jButtonVisualizarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonVisualizarActionPerformed

        new Thread() {
            public void run() {
                jLabelCarregando.setVisible(true);
                TarefasSegundoPlano v = new TarefasSegundoPlano();
                v.relatorioProdutos();
                jLabelCarregando.setVisible(false);
            }

        }.start();


    }//GEN-LAST:event_jButtonVisualizarActionPerformed

    private void jTextFieldPesquisarKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldPesquisarKeyReleased
        preencherTabela("SELECT * FROM produto INNER JOIN fornecedor ON produto.id_fornecedor = fornecedor.id_fornecedor WHERE nome_produto LIKE '%" + jTextFieldPesquisar.getText() + "%'");

    }//GEN-LAST:event_jTextFieldPesquisarKeyReleased

    private void jTextFieldLucroFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldLucroFocusLost
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldLucroFocusLost

    private void jTextFieldPrecoCompraFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldPrecoCompraFocusGained
        jTextFieldPrecoCompra.selectAll();
    }//GEN-LAST:event_jTextFieldPrecoCompraFocusGained

    private void jTextFieldPrecoVendaFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTextFieldPrecoVendaFocusGained
        jTextFieldPrecoVenda.selectAll();
    }//GEN-LAST:event_jTextFieldPrecoVendaFocusGained

    private void jTextFieldPrecoCompraActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldPrecoCompraActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldPrecoCompraActionPerformed

    private void jButtonCancelarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonCancelarActionPerformed
        // TODO add your handling code here:
        limpaCampos();
        BloquearCampos();
        jTextFieldPesquisar.setEnabled(true);
        jButtonSalvar.setEnabled(false);
        jButtonNovo.setEnabled(true);
        jButtonEditar.setEnabled(false);
        jButtonExcluir.setEnabled(false);
        jButtonCancelar.setEnabled(false);
        
    }//GEN-LAST:event_jButtonCancelarActionPerformed

    private void jButtonNCMActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonNCMActionPerformed
        frmbuscancm p = new frmbuscancm();
        p.setVisible(true);//qual formato do ncm nessa tela? codigo - descricao? sim
        if(!p.NCM.isEmpty()){
        
        jComboBoxncm.addItem(p.NCM);
        
        jTextFieldCest.setText(p.CEST);
        }
    }//GEN-LAST:event_jButtonNCMActionPerformed

    private void jComboBoxUnidadeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBoxUnidadeActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jComboBoxUnidadeActionPerformed

    private void jButtonCFOPActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonCFOPActionPerformed
        FrmBuscacfop M = new FrmBuscacfop(this, rootPaneCheckingEnabled);
        M.setVisible(true);
        if(!FrmBuscacfop.CFOP.isEmpty()){
         
        jTextFieldCFOP.setText(FrmBuscacfop.CFOP);
        
        }
    }//GEN-LAST:event_jButtonCFOPActionPerformed

    private void jButtonCOFINSActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonCOFINSActionPerformed
        Frmbuscacofins M = new Frmbuscacofins(this, rootPaneCheckingEnabled);
        M.setVisible(true);
        if(!Frmbuscacofins.COFINS.isEmpty()){
         
        jTextFieldCOFINS.setText(Frmbuscacofins.COFINS);
        
        }
    }//GEN-LAST:event_jButtonCOFINSActionPerformed

    private void jButtonPISActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonPISActionPerformed
       Frmbuscapis M = new Frmbuscapis(this, rootPaneCheckingEnabled);
        M.setVisible(true);
        if(!Frmbuscapis.PIS.isEmpty()){
         
        jTextFieldPIS.setText(Frmbuscapis.PIS);
        
        }
    }//GEN-LAST:event_jButtonPISActionPerformed

    private void jComboBoxncmActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBoxncmActionPerformed


        conecta.conexao();
     
      conecta.executaSQL("SELECT * FROM carga_ibpt WHERE ncm LIKE '%" + jComboBoxncm.getSelectedItem()+"%' ORDER BY ncm ASC");
      
        try {
            
            jTextFieldAliqFederal.removeAll();
            jTextFieldAliqEstadual.removeAll();
            jTextFieldAliqmunicipal.removeAll();
            
            conecta.rs.first();
            
            
            do{
                
                
                jTextFieldAliqFederal.setText(conecta.rs.getString("nacionalfederal"));
                jTextFieldAliqEstadual.setText(conecta.rs.getString("estadual"));
                jTextFieldAliqmunicipal.setText(conecta.rs.getString("municipal"));
                
               
                } while (conecta.rs.next());
            
        } catch (SQLException ex) {
            Logger.getLogger(FrmDadosEmpresa.class.getName()).log(Level.SEVERE, null, ex);
        }
     
    
         
    }//GEN-LAST:event_jComboBoxncmActionPerformed

    private void jComboBoxncmFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jComboBoxncmFocusLost
            
    
    }//GEN-LAST:event_jComboBoxncmFocusLost

    private void jComboBoxncmKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBoxncmKeyReleased
      conecta.conexao();
     
      conecta.executaSQL("SELECT * FROM carga_ibpt WHERE ncm LIKE '%" + jComboBoxncm.getSelectedItem()+"%' ORDER BY ncm ASC");
      
        try {
            
            jTextFieldAliqFederal.removeAll();
            jTextFieldAliqEstadual.removeAll();
            jTextFieldAliqmunicipal.removeAll();
            
            conecta.rs.first();
            
            
            do{
                
                
                jTextFieldAliqFederal.setText(conecta.rs.getString("nacionalfederal"));
                jTextFieldAliqEstadual.setText(conecta.rs.getString("estadual"));
                jTextFieldAliqmunicipal.setText(conecta.rs.getString("municipal"));
                
               
                } while (conecta.rs.next());
            
        } catch (SQLException ex) {
            Logger.getLogger(FrmDadosEmpresa.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_jComboBoxncmKeyReleased

    private void jComboBoxCSTActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBoxCSTActionPerformed
         
    }//GEN-LAST:event_jComboBoxCSTActionPerformed

    private void jComboBoxFornecedorActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBoxFornecedorActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jComboBoxFornecedorActionPerformed

    private void jComboBoxCSTMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jComboBoxCSTMouseClicked
       
       
    }//GEN-LAST:event_jComboBoxCSTMouseClicked

    private void jComboBoxCSTFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jComboBoxCSTFocusLost
         
    }//GEN-LAST:event_jComboBoxCSTFocusLost

    private void jComboBoxCSTKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBoxCSTKeyPressed
     
    
    }//GEN-LAST:event_jComboBoxCSTKeyPressed

    private void jComboBoxCSTKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBoxCSTKeyReleased
      
    }//GEN-LAST:event_jComboBoxCSTKeyReleased

    private void jComboBoxcsosnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBoxcsosnActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jComboBoxcsosnActionPerformed

    private void jTextFieldCestActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldCestActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldCestActionPerformed

    private void jTextFieldPesquisarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldPesquisarActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldPesquisarActionPerformed

    private void tabelaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tabelaMouseClicked

       jButtonNovo.setEnabled(false);
        jButtonSalvar.setEnabled(false);
        jButtonEditar.setEnabled(true);
        jButtonExcluir.setEnabled(true);
        jButtonCancelar.setEnabled(true);
        
        BloquearCampos();
        
        String nome_produto = "" + tabela.getValueAt(tabela.getSelectedRow(), 1);
        String pCompra = "" + tabela.getValueAt(tabela.getSelectedRow(), 2);
        String pVenda = "" + tabela.getValueAt(tabela.getSelectedRow(), 3);
        String lVenda = "" + tabela.getValueAt(tabela.getSelectedRow(), 4);
        String pLucro = "" + tabela.getValueAt(tabela.getSelectedRow(), 5);
        String Aliqfederal = "" + tabela.getValueAt(tabela.getSelectedRow(), 14);
        String Aliqestadual = "" + tabela.getValueAt(tabela.getSelectedRow(), 15);
        String Aliqmunicipal = "" + tabela.getValueAt(tabela.getSelectedRow(), 16);

        jTextFieldPrecoCompra.setText(String.valueOf(pCompra).replace(".", ","));
        jTextFieldLucro.setText(String.valueOf(lVenda).replace(".", ","));
        jTextFieldLucroEsperado.setText(String.valueOf(pLucro).replace(".", ","));
        jTextFieldPrecoVenda.setText(String.valueOf(pVenda).replace(".", ","));
        jTextFieldAliqFederal.setText(String.valueOf(Aliqfederal).replace(".", ","));
        jTextFieldAliqEstadual.setText(String.valueOf(Aliqestadual).replace(".", ","));
        jTextFieldAliqmunicipal.setText(String.valueOf(Aliqmunicipal).replace(".", ","));
        
        conecta.conexao();
        conectapesquisa.conexao();
        conectacategoria.conexao();
        conecta.executaSQL("SELECT * FROM produto WHERE nome_produto ='" + nome_produto + "'");
        try {
            conecta.rs.first();
            jTextFieldCodigo.setText(String.valueOf(conecta.rs.getInt("id_produto")));
            jTextFieldBarras.setText(conecta.rs.getString("codigobarras"));
            jTextFieldProduto.setText(conecta.rs.getString("nome_produto"));
            jComboBoxUnidade.setSelectedItem(conecta.rs.getString("unidade"));
            jTextFieldPrecoCompra.setText(String.valueOf(conecta.rs.getFloat("preco_compra")));
            jTextFieldLucroEsperado.setText(String.valueOf(conecta.rs.getInt("lucro_esperado")));
            jTextFieldPrecoVenda.setText(String.valueOf(conecta.rs.getFloat("preco_venda")));
            jTextFieldLucro.setText(String.valueOf(conecta.rs.getFloat("lucrovenda")));
            jTextFieldQuantidade.setText(String.valueOf(conecta.rs.getInt("quantidade")));
            jTextFieldQuantidadeMinima.setText(String.valueOf(conecta.rs.getInt("quantidade_minima")));
            jComboBoxncm.setSelectedItem(conecta.rs.getString("ncm"));
            jTextFieldCest.setText(String.valueOf(conecta.rs.getInt("cest")));
            jTextFieldCFOP.setText(String.valueOf(conecta.rs.getInt("cfop")));
            jTextFieldPIS.setText(String.valueOf(conecta.rs.getInt("pis")));
            jTextFieldCOFINS.setText(String.valueOf(conecta.rs.getInt("cofins")));
            jComboBoxCST.setSelectedItem(conecta.rs.getString("cst"));
            jComboBoxcsosn.setSelectedItem(conecta.rs.getString("csosn"));
            jTextFieldAliqEstadual.setText(String.valueOf(conecta.rs.getFloat("aliq_federal")));
            jTextFieldAliqEstadual.setText(String.valueOf(conecta.rs.getFloat("aliq_estadual")));
            jTextFieldAliqmunicipal.setText(String.valueOf(conecta.rs.getFloat("aliq_municipal")));

            conectapesquisa.executaSQL("SELECT * FROM fornecedor WHERE id_fornecedor =" + conecta.rs.getInt("id_fornecedor"));
            conectapesquisa.rs.first();
            jComboBoxFornecedor.setSelectedItem(conectapesquisa.rs.getString("nome_fornecedor"));

            conectacategoria.executaSQL("SELECT * FROM categorias WHERE id_categoria =" + conecta.rs.getInt("id_categoria"));
            conectacategoria.rs.first();
            jComboBoxCategorias.setSelectedItem(conectacategoria.rs.getString("nome_categoria"));

            conectacategoria.desconecta();
            conectapesquisa.desconecta();
            conecta.desconecta();
            //JOptionPane.showMessageDialog(null, nome_produto);
        } catch (SQLException ex) {
           // JOptionPane.showMessageDialog(null, "Erro ao Selecionar os Dados" + ex);
        } finally {

            conecta.desconecta();

        }
    }//GEN-LAST:event_tabelaMouseClicked

    private void tabelaKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tabelaKeyReleased
       jButtonNovo.setEnabled(false);
        jButtonSalvar.setEnabled(false);
        jButtonEditar.setEnabled(true);
        jButtonExcluir.setEnabled(true);
        jButtonCancelar.setEnabled(true);
        
        BloquearCampos();
        
        String nome_produto = "" + tabela.getValueAt(tabela.getSelectedRow(), 1);
        String pCompra = "" + tabela.getValueAt(tabela.getSelectedRow(), 2);
        String pVenda = "" + tabela.getValueAt(tabela.getSelectedRow(), 3);
        String lVenda = "" + tabela.getValueAt(tabela.getSelectedRow(), 4);
        String pLucro = "" + tabela.getValueAt(tabela.getSelectedRow(), 5);
        String Aliqfederal = "" + tabela.getValueAt(tabela.getSelectedRow(), 14);
        String Aliqestadual = "" + tabela.getValueAt(tabela.getSelectedRow(), 15);
        String Aliqmunicipal = "" + tabela.getValueAt(tabela.getSelectedRow(), 16);

        jTextFieldPrecoCompra.setText(String.valueOf(pCompra).replace(".", ","));
        jTextFieldLucro.setText(String.valueOf(lVenda).replace(".", ","));
        jTextFieldLucroEsperado.setText(String.valueOf(pLucro).replace(".", ","));
        jTextFieldPrecoVenda.setText(String.valueOf(pVenda).replace(".", ","));
        jTextFieldAliqFederal.setText(String.valueOf(Aliqfederal).replace(".", ","));
        jTextFieldAliqEstadual.setText(String.valueOf(Aliqestadual).replace(".", ","));
        jTextFieldAliqmunicipal.setText(String.valueOf(Aliqmunicipal).replace(".", ","));
        
        conecta.conexao();
        conectapesquisa.conexao();
        conectacategoria.conexao();
        conecta.executaSQL("SELECT * FROM produto WHERE nome_produto ='" + nome_produto + "'");
        try {
            conecta.rs.first();
            jTextFieldCodigo.setText(String.valueOf(conecta.rs.getInt("id_produto")));
            jTextFieldBarras.setText(conecta.rs.getString("codigobarras"));
            jTextFieldProduto.setText(conecta.rs.getString("nome_produto"));
            jComboBoxUnidade.setSelectedItem(conecta.rs.getString("unidade"));
            jTextFieldPrecoCompra.setText(String.valueOf(conecta.rs.getFloat("preco_compra")));
            jTextFieldLucroEsperado.setText(String.valueOf(conecta.rs.getInt("lucro_esperado")));
            jTextFieldPrecoVenda.setText(String.valueOf(conecta.rs.getFloat("preco_venda")));
            jTextFieldLucro.setText(String.valueOf(conecta.rs.getFloat("lucrovenda")));
            jTextFieldQuantidade.setText(String.valueOf(conecta.rs.getInt("quantidade")));
            jTextFieldQuantidadeMinima.setText(String.valueOf(conecta.rs.getInt("quantidade_minima")));
            jComboBoxncm.setSelectedItem(conecta.rs.getString("ncm"));
            jTextFieldCest.setText(String.valueOf(conecta.rs.getInt("cest")));
            jTextFieldCFOP.setText(String.valueOf(conecta.rs.getInt("cfop")));
            jTextFieldPIS.setText(String.valueOf(conecta.rs.getInt("pis")));
            jTextFieldCOFINS.setText(String.valueOf(conecta.rs.getInt("cofins")));
            jComboBoxCST.setSelectedItem(conecta.rs.getString("cst"));
            jComboBoxcsosn.setSelectedItem(conecta.rs.getString("csosn"));
            jTextFieldAliqEstadual.setText(String.valueOf(conecta.rs.getFloat("aliq_federal")));
            jTextFieldAliqEstadual.setText(String.valueOf(conecta.rs.getFloat("aliq_estadual")));
            jTextFieldAliqmunicipal.setText(String.valueOf(conecta.rs.getFloat("aliq_municipal")));

            conectapesquisa.executaSQL("SELECT * FROM fornecedor WHERE id_fornecedor =" + conecta.rs.getInt("id_fornecedor"));
            conectapesquisa.rs.first();
            jComboBoxFornecedor.setSelectedItem(conectapesquisa.rs.getString("nome_fornecedor"));

            conectacategoria.executaSQL("SELECT * FROM categorias WHERE id_categoria =" + conecta.rs.getInt("id_categoria"));
            conectacategoria.rs.first();
            jComboBoxCategorias.setSelectedItem(conectacategoria.rs.getString("nome_categoria"));

            conectacategoria.desconecta();
            conectapesquisa.desconecta();
            conecta.desconecta();
            //JOptionPane.showMessageDialog(null, nome_produto);
        } catch (SQLException ex) {
           // JOptionPane.showMessageDialog(null, "Erro ao Selecionar os Dados" + ex);
        } finally {

            conecta.desconecta();

        }
    }//GEN-LAST:event_tabelaKeyReleased

    public void preencherCombo() {

        conecta.conexao();
        conecta.executaSQL("select * from fornecedor order by nome_fornecedor");
        try {
            conecta.rs.first();
            jComboBoxFornecedor.removeAllItems();
            jComboBoxFornecedor.addItem("");
            do {

                jComboBoxFornecedor.addItem(conecta.rs.getString("nome_fornecedor"));

            } while (conecta.rs.next());
        } catch (SQLException ex) {
            JOptionPane.showMessageDialog(null, "Erro ao Selecionar os Dados" + ex);

        } finally {

            conecta.desconecta();

        }

        jComboBoxFornecedor.setSelectedItem("NAO CADASTRADO");

    }

    public void preencherComboCategorias() {

        conecta.conexao();
        conecta.executaSQL("select * from categorias order by nome_categoria");
        try {
            conecta.rs.first();
            jComboBoxCategorias.removeAllItems();
            jComboBoxCategorias.addItem("");
            do {

                jComboBoxCategorias.addItem(conecta.rs.getString("nome_categoria"));

            } while (conecta.rs.next());
        } catch (SQLException ex) {
            JOptionPane.showMessageDialog(null, "Erro ao Selecionar os Dados" + ex);

        } finally {

            conecta.desconecta();

        }

    }
    
    public void PreencherCst(){
      conecta.conexao();
        conecta.executaSQL("select * from cst order by CODIGO_CST");
        try {
            conecta.rs.first();
            jComboBoxCST.removeAllItems();
            jComboBoxCST.addItem("");
            
            do {

                jComboBoxCST.addItem(conecta.rs.getString("CODIGO_CST"));

            } while (conecta.rs.next());
        } catch (SQLException ex) {
            JOptionPane.showMessageDialog(null, "Erro ao Selecionar os Dados" + ex);

        } finally {

            conecta.desconecta();

        }
        
        
}

    public void HabilitarCampos(){
       jTextFieldBarras.setEnabled(true);
        jTextFieldCodigo.setEnabled(true);
        jTextFieldPrecoCompra.setEnabled(true);
        jTextFieldLucroEsperado.setEnabled(true);
        jTextFieldPrecoVenda.setEnabled(true);
        jTextFieldProduto.setEnabled(true);
        jTextFieldQuantidadeMinima.setEnabled(true);
        jTextFieldQuantidade.setEnabled(true);
        jTextFieldLucro.setEnabled(true);
        jButtonFornecedor.setEnabled(true);
        jButtoncategoria.setEnabled(true);
        jComboBoxUnidade.setEnabled(true);
        jComboBoxFornecedor.setEnabled(true);
        jComboBoxCategorias.setEnabled(true);
        jComboBoxcsosn.setEnabled(true);
        jComboBoxCST.setEnabled(true);
        jComboBoxncm.setEnabled(true);
        jTextFieldCest.setEnabled(true);
        jTextFieldCFOP.setEnabled(true);
        jTextFieldPIS.setEnabled(true);
        jTextFieldCOFINS.setEnabled(true);
        jTextFieldAliqFederal.setEnabled(true);
        jTextFieldAliqEstadual.setEnabled(true);
        jTextFieldAliqmunicipal.setEnabled(true);
        jButtonNCM.setEnabled(true);
        jButtonPIS.setEnabled(true);
        jButtonCOFINS.setEnabled(true);
        jButtonCFOP.setEnabled(true);
    }
    
     public void BloquearCampos(){
       jTextFieldBarras.setEnabled(false);
        jTextFieldCodigo.setEnabled(false);
        jTextFieldPrecoCompra.setEnabled(false);
        jTextFieldLucroEsperado.setEnabled(false);
        jTextFieldPrecoVenda.setEnabled(false);
        jTextFieldProduto.setEnabled(false);
        jTextFieldQuantidadeMinima.setEnabled(false);
        jTextFieldQuantidade.setEnabled(false);
        jTextFieldLucro.setEnabled(false);
        jButtonFornecedor.setEnabled(false);
        jButtoncategoria.setEnabled(false);
        jComboBoxUnidade.setEnabled(false);
        jComboBoxFornecedor.setEnabled(false);
        jComboBoxCategorias.setEnabled(false);
        jComboBoxcsosn.setEnabled(false);
        jComboBoxCST.setEnabled(false);
        jComboBoxncm.setEnabled(false);
        jTextFieldCest.setEnabled(false);
        jTextFieldCFOP.setEnabled(false);
        jTextFieldPIS.setEnabled(false);
        jTextFieldCOFINS.setEnabled(false);
        jTextFieldAliqFederal.setEnabled(false);
        jTextFieldAliqEstadual.setEnabled(false);
        jTextFieldAliqmunicipal.setEnabled(false);
        jButtonNCM.setEnabled(false);
        jButtonPIS.setEnabled(false);
        jButtonCOFINS.setEnabled(false);
        jButtonCFOP.setEnabled(false);
        
        
    }
     
     
    

    public void limpaCampos() {
       
        jTextFieldCodigo.setText("");
        jTextFieldBarras.setText("");
        jTextFieldProduto.setText("");
        jComboBoxCategorias.setSelectedIndex(-1);
        jComboBoxUnidade.setSelectedIndex(-1);
        jTextFieldCest.setText("");
        jTextFieldCFOP.setText("");
        jTextFieldPIS.setText("");
        jTextFieldCOFINS.setText("");
        jTextFieldAliqFederal.setText("");
        jTextFieldAliqEstadual.setText("");
        jTextFieldAliqmunicipal.setText("");
        jComboBoxCST.setSelectedIndex(-1);
        jComboBoxcsosn.setSelectedIndex(-1);
        jTextFieldPrecoVenda.setText("");
        jTextFieldPrecoCompra.setText("");
        jTextFieldLucroEsperado.setText("");
        jTextFieldLucro.setText("");
        jTextFieldQuantidadeMinima.setText("");
        jTextFieldQuantidade.setText("");
        jTextFieldPesquisar.setText("");
        jComboBoxFornecedor.setSelectedIndex(-1);
       
    }

    public void preencherTabela(String SQL) {

        ArrayList dados = new ArrayList();

        String[] Colunas = new String[]{"Código", "Nome Produto","Unidade","Preco de Compra", "Preco de Venda", "Lucro Venda", "Margem Bruta %", "Estoque", "Fornecedor",
        "CEST","CFOP","NCM","PIS","COFINS","Aliq. Federal","Aliq. Estadual","Aliq.Municipal","CST","CSOSN","Categoria"};
        conecta.conexao();
        conecta.executaSQL(SQL);
       
        try {

            conecta.rs.first();

            do {
                float federal = conecta.rs.getFloat("aliq_federal");
                float estadual = conecta.rs.getFloat("aliq_estadual");
                float municipal = conecta.rs.getFloat("aliq_municipal");
                float preCompra = conecta.rs.getFloat("preco_compra");
                float lucCompra = conecta.rs.getFloat("lucro_esperado");
                float lucVenda = conecta.rs.getFloat("lucrovenda");
                float preVenda = conecta.rs.getFloat("preco_venda");
                dados.add(new Object[]{conecta.rs.getInt("id_produto"), conecta.rs.getString("nome_produto"), conecta.rs.getString("unidade"), df.format(preCompra), df.format(preVenda), df.format(lucVenda), df.format(lucCompra), conecta.rs.getInt("quantidade"),
                    conecta.rs.getString("nome_fornecedor"),conecta.rs.getString("ncm"),conecta.rs.getInt("cest"),conecta.rs.getInt("cfop"),conecta.rs.getInt("pis"),conecta.rs.getInt("cofins"),
                    df.format(federal),df.format(estadual),df.format(municipal),conecta.rs.getInt("cst"),conecta.rs.getInt("csosn"), conecta.rs.getInt("id_categoria")});
            } while (conecta.rs.next());
        } catch (SQLException e) {

            //JOptionPane.showMessageDialog(null, "ERRO AO CONECTAR"+ e);
        }

        ModeloTabela modelo = new ModeloTabela(dados, Colunas);

        tabela.setModel(modelo);
        tabela.getColumnModel().getColumn(0).setPreferredWidth(50);
        tabela.getColumnModel().getColumn(0).setResizable(false);
        tabela.getColumnModel().getColumn(1).setPreferredWidth(300);
        tabela.getColumnModel().getColumn(1).setResizable(false);
        tabela.getColumnModel().getColumn(2).setPreferredWidth(70);
        tabela.getColumnModel().getColumn(2).setResizable(false);
        tabela.getColumnModel().getColumn(3).setPreferredWidth(110);
        tabela.getColumnModel().getColumn(3).setResizable(false);
        tabela.getColumnModel().getColumn(4).setPreferredWidth(100);
        tabela.getColumnModel().getColumn(4).setResizable(false);
        tabela.getColumnModel().getColumn(5).setPreferredWidth(80);
        tabela.getColumnModel().getColumn(5).setResizable(false);
        tabela.getColumnModel().getColumn(6).setPreferredWidth(105);
        tabela.getColumnModel().getColumn(6).setResizable(false);
        tabela.getColumnModel().getColumn(7).setPreferredWidth(60);
        tabela.getColumnModel().getColumn(7).setResizable(false);
        tabela.getColumnModel().getColumn(8).setPreferredWidth(300);
        tabela.getColumnModel().getColumn(8).setResizable(false);
        tabela.getColumnModel().getColumn(9).setPreferredWidth(70);
        tabela.getColumnModel().getColumn(9).setResizable(false);
        tabela.getColumnModel().getColumn(10).setPreferredWidth(75);
        tabela.getColumnModel().getColumn(10).setResizable(false);
        tabela.getColumnModel().getColumn(11).setPreferredWidth(40);
        tabela.getColumnModel().getColumn(11).setResizable(false);
        tabela.getColumnModel().getColumn(12).setPreferredWidth(35);
        tabela.getColumnModel().getColumn(12).setResizable(false);
        tabela.getColumnModel().getColumn(13).setPreferredWidth(70);
        tabela.getColumnModel().getColumn(13).setResizable(false);
        tabela.getColumnModel().getColumn(14).setPreferredWidth(80);
        tabela.getColumnModel().getColumn(14).setResizable(false);
        tabela.getColumnModel().getColumn(15).setPreferredWidth(85);
        tabela.getColumnModel().getColumn(15).setResizable(false);
        tabela.getColumnModel().getColumn(16).setPreferredWidth(85);
        tabela.getColumnModel().getColumn(16).setResizable(false);
        tabela.getColumnModel().getColumn(17).setPreferredWidth(40);
        tabela.getColumnModel().getColumn(17).setResizable(false);
        tabela.getColumnModel().getColumn(18).setPreferredWidth(55);
        tabela.getColumnModel().getColumn(18).setResizable(false);
        tabela.getColumnModel().getColumn(19).setPreferredWidth(80);
        tabela.getColumnModel().getColumn(19).setResizable(false);
        
        
        

        tabela.getTableHeader().setReorderingAllowed(false);
        tabela.setAutoResizeMode(tabela.AUTO_RESIZE_OFF);
        tabela.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
        tabela.setRowHeight(28);

    }

    public void IniciaId() {

        try {
            preencherTabela("select id_produto from produto");
            conecta.rs.last();
            idProd = conecta.rs.getInt("id_produto");
            jTextFieldCodigo.setText(String.valueOf(idProd + 1));
        } catch (SQLException ex) {
            Logger.getLogger(FrmCadastraProduto.class.getName()).log(Level.SEVERE, null, ex);
        } finally {

            conecta.desconecta();

        }

    }

    public void desabilitarCampos() {

        jTextFieldBarras.setEnabled(false);
        jTextFieldLucroEsperado.setEnabled(false);
        jTextFieldPrecoCompra.setEnabled(false);
        jTextFieldPrecoVenda.setEnabled(false);
        jTextFieldProduto.setEnabled(false);
        jTextFieldQuantidade.setEnabled(false);
        jTextFieldQuantidadeMinima.setEnabled(false);
        jComboBoxCST.setEnabled(false);

    }
    
   

    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(FrmCadastraProduto.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(FrmCadastraProduto.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(FrmCadastraProduto.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(FrmCadastraProduto.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new FrmCadastraProduto().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.persistence.EntityManager entityManager;
    private javax.swing.JButton jButtonCFOP;
    private javax.swing.JButton jButtonCOFINS;
    private javax.swing.JButton jButtonCancelar;
    private javax.swing.JButton jButtonEditar;
    private javax.swing.JButton jButtonExcluir;
    private javax.swing.JButton jButtonFornecedor;
    private javax.swing.JButton jButtonNCM;
    private javax.swing.JButton jButtonNovo;
    private javax.swing.JButton jButtonPIS;
    private javax.swing.JButton jButtonSair;
    private javax.swing.JButton jButtonSalvar;
    private javax.swing.JButton jButtonVisualizar;
    private javax.swing.JButton jButtoncategoria;
    private javax.swing.JComboBox<String> jComboBoxCST;
    private javax.swing.JComboBox<String> jComboBoxCategorias;
    private javax.swing.JComboBox<String> jComboBoxFornecedor;
    private javax.swing.JComboBox<String> jComboBoxUnidade;
    private javax.swing.JComboBox<String> jComboBoxcsosn;
    private javax.swing.JComboBox<String> jComboBoxncm;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JLabel jLabelCarregando;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JTextField jTextFieldAliqEstadual;
    private javax.swing.JTextField jTextFieldAliqFederal;
    private javax.swing.JTextField jTextFieldAliqmunicipal;
    private javax.swing.JTextField jTextFieldBarras;
    private javax.swing.JTextField jTextFieldCFOP;
    private javax.swing.JTextField jTextFieldCOFINS;
    private javax.swing.JTextField jTextFieldCest;
    private javax.swing.JTextField jTextFieldCodigo;
    private javax.swing.JTextField jTextFieldLucro;
    private javax.swing.JTextField jTextFieldLucroEsperado;
    private javax.swing.JTextField jTextFieldPIS;
    private javax.swing.JTextField jTextFieldPesquisar;
    private javax.swing.JTextField jTextFieldPrecoCompra;
    private javax.swing.JTextField jTextFieldPrecoVenda;
    private javax.swing.JTextField jTextFieldProduto;
    private javax.swing.JTextField jTextFieldQuantidade;
    private javax.swing.JTextField jTextFieldQuantidadeMinima;
    private java.util.List<visao.Produto> produtoList;
    private javax.persistence.Query produtoQuery;
    private javax.swing.JTable tabela;
    // End of variables declaration//GEN-END:variables

    private void novoProduto() {
        javax.swing.InputMap inputMap = this.getRootPane().getInputMap(javax.swing.JComponent.WHEN_IN_FOCUSED_WINDOW);
        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_F6, 0), "novo");
        this.getRootPane().setInputMap(javax.swing.JComponent.WHEN_IN_FOCUSED_WINDOW, inputMap);
        this.getRootPane().getActionMap().put("novo", new AbstractAction() {
            private static final long serialVersionUID = 1L;

            public void actionPerformed(ActionEvent arg0) {
                jButtonNovo.doClick();
            }
        });
    }

    private void salvaProduto() {
        javax.swing.InputMap inputMap = this.getRootPane().getInputMap(javax.swing.JComponent.WHEN_IN_FOCUSED_WINDOW);
        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_F12, 0), "salvar");
        this.getRootPane().setInputMap(javax.swing.JComponent.WHEN_IN_FOCUSED_WINDOW, inputMap);
        this.getRootPane().getActionMap().put("salvar", new AbstractAction() {
            private static final long serialVersionUID = 1L;

            public void actionPerformed(ActionEvent arg0) {
                jButtonSalvar.doClick();
            }
        });
    }

    private void EditaProduto() {
        javax.swing.InputMap inputMap = this.getRootPane().getInputMap(javax.swing.JComponent.WHEN_IN_FOCUSED_WINDOW);
        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_F8, 0), "edita");
        this.getRootPane().setInputMap(javax.swing.JComponent.WHEN_IN_FOCUSED_WINDOW, inputMap);
        this.getRootPane().getActionMap().put("edita", new AbstractAction() {
            private static final long serialVersionUID = 1L;

            public void actionPerformed(ActionEvent arg0) {
                jButtonEditar.doClick();
            }
        });
    }

    private void ExcluirProduto() {
        javax.swing.InputMap inputMap = this.getRootPane().getInputMap(javax.swing.JComponent.WHEN_IN_FOCUSED_WINDOW);
        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DELETE, 0), "exclui");
        this.getRootPane().setInputMap(javax.swing.JComponent.WHEN_IN_FOCUSED_WINDOW, inputMap);
        this.getRootPane().getActionMap().put("exclui", new AbstractAction() {
            private static final long serialVersionUID = 1L;

            public void actionPerformed(ActionEvent arg0) {
                jButtonExcluir.doClick();
            }
        });
    }

    private void Sair() {
        javax.swing.InputMap inputMap = this.getRootPane().getInputMap(javax.swing.JComponent.WHEN_IN_FOCUSED_WINDOW);
        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE, 0), "escape");
        this.getRootPane().setInputMap(javax.swing.JComponent.WHEN_IN_FOCUSED_WINDOW, inputMap);
        this.getRootPane().getActionMap().put("escape", new AbstractAction() {
            private static final long serialVersionUID = 1L;

            public void actionPerformed(ActionEvent arg0) {
                jButtonSair.doClick();
            }
        });
    }
      private void CancelarProduto() {
       javax.swing.InputMap inputMap = this.getRootPane().getInputMap(javax.swing.JComponent.WHEN_IN_FOCUSED_WINDOW);
                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_F7, 0),"cancela");
                this.getRootPane().setInputMap(javax.swing.JComponent.WHEN_IN_FOCUSED_WINDOW, inputMap);
                this.getRootPane().getActionMap().put("cancela", new AbstractAction(){
                private static final long serialVersionUID = 1L;
                public void actionPerformed(ActionEvent arg0) {            
                jButtonCancelar.doClick();
                
               
                }
            });
    }
    public void setIcon() {
        setIconImage(Toolkit.getDefaultToolkit().getImage(getClass().getResource("icon.png")));
    }
}
